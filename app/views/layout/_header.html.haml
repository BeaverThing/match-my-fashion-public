// LAYOUT HEADER FILE

%head{:onload => "loginLogoutButton()"}
  #HEADER
    %title  Match My Fashion
    = csrf_meta_tags
    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload'
    = javascript_include_tag 'application', 'data-turbolinks-track': 'reload'
    
    %ul
      %li
        %a{:id => "loginLogoutButtonID", :href => "/login_info/login"} Login
      %li
        %a{:href => "/login_info/new"} Sign Up
      %li
        %a{:href => ""} Profile Search
  
  :javascript
    var loginLogout = "Login";
    var loginLogoutLink = "/login_info/login";
    var session_val = "=session[:current_user_key].to_json";
    
    function loginLogoutButton()
    {
      console.log("in the function");
      if (session_val !== null)
      {
        loginLogout = "Logout";
        var loginLogoutLink = "/login_info/logout";
      }
      else
      {
        loginLogout = "Login";
        var loginLogoutLink = "/login_info/login";
      }
      document.getElementById("loginLogoutButtonID").innerHTML = loginLogout;
      document.getElementById("loginLogoutButtonID").href = loginLogoutLink;
      console.log("This is your key " + session_val);
    }
    window.onload = loginLogoutButton;
  
